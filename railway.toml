# =============================================================================
# BVRAI - Railway Deployment Configuration
# =============================================================================
# This configuration deploys the BVRAI Voice AI Platform to Railway
# For multi-service deployments, use Railway's project services feature
# =============================================================================

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

# Build arguments passed during Docker build
[build.args]
PYTHON_VERSION = "3.11"

[deploy]
# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 30
startCommand = "python -m uvicorn bvrai_core.api.app:create_app --host 0.0.0.0 --port $PORT --factory"

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Resource allocation (Railway Pro features)
numReplicas = 1

[env]
# Default environment variables
# These can be overridden in the Railway dashboard
PYTHON_ENV = "production"
LOG_LEVEL = "info"
LOG_FORMAT = "json"

# Service URLs - Set these in Railway dashboard
# DATABASE_URL = "postgresql://..."
# REDIS_URL = "redis://..."
# QDRANT_URL = "http://..."

# API Provider Keys - Set in Railway dashboard (Sensitive)
# OPENAI_API_KEY = ""
# ANTHROPIC_API_KEY = ""
# DEEPGRAM_API_KEY = ""
# ELEVENLABS_API_KEY = ""

# Twilio - Set in Railway dashboard (Sensitive)
# TWILIO_ACCOUNT_SID = ""
# TWILIO_AUTH_TOKEN = ""
# TWILIO_PHONE_NUMBER = ""

# Security - Set in Railway dashboard (Sensitive)
# JWT_SECRET = ""
# PII_ENCRYPTION_KEY = ""
